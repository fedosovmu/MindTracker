#:include kv/widgets/main_widgets.kv
#:include kv/widgets/mood_assessor.kv


<MoodAssessmentScreen@Screen>:
    content: app.content.mood_assessment_screen

    BoxLayout:
        orientation: 'vertical'

        HeaderText:
            text: root.content['header_text']
            height: dp(56)
            size_hint: (1, None)
            padding: dp(16), dp(0)

        MoodAssessor:
            id: mood_assessor

        AnchorLayout:
            height: dp(60)
            size_hint: (1, None)
            padding: dp(16), dp(0)

            MainButton:
                id: mood_agree_button
                text: root.content['mood_agree_button_text']
                on_press: app.on_mood_assessment_screen_mood_assess_button_press() #print(f'Assess mood {mood_assessor.mood}')
                current_mood: 4

                canvas.before:
                    Color:
                        rgba: app.colors.mood_colors[self.current_mood] if self.state=='normal' else app.colors.main_button_pressed_state_background_color
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [dp(12),]


        AnchorLayout:
            height: dp(8)
            size_hint: (1, None)

        AnchorLayout:
            height: dp(63)
            size_hint: (1, None)
            anchor_x: 'center'
            anchor_y: 'top'

            TextButton:
                text: root.content['skip_button_text']
                size: dp(160), dp(60)
                on_press: app.on_mood_assessment_screen_skip_button_press() #print('Skip')

